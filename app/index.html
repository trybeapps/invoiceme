<!DOCTYPE html>
<!--[if lt IE 7]>      <html lang="en" ng-app="myApp" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html lang="en" ng-app="myApp" class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html lang="en" ng-app="myApp" class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="en" ng-app="myApp" ng-controller="AppCtrl" class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Invoice Me</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Custom Fonts -->
    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css">
    <link rel="shortcut icon" type="image/png" href="img/profile.png"/>
    <link rel="stylesheet" href="bower_components/html5-boilerplate/css/normalize.css">
    <link rel="stylesheet" href="bower_components/html5-boilerplate/css/main.css">    
    <!--link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css"-->
    <link href="font-awesome/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="app.css">
    <script src="bower_components/html5-boilerplate/js/vendor/modernizr-2.6.2.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/spin.js/1.2.7/spin.min.js"></script>
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-XXXX-Y', {
          'cookieDomain': 'none'
        });
        //ga('create', 'UA-62577357-1', 'auto');
        ga('send', 'pageview');
        ga(function(tracker) {
          var defaultPage = tracker.get('page');
        });

    </script>
    <script type="text/javascript"> 
       var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www."); 
       document.write("<script src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'>" + "</script>"); 
    </script> 

    <script type='text/javascript'>
        var pageTracker = _gat._getTracker("UA-62577357-1");
        pageTracker._trackPageview();

        //
        // This is a function that I "borrowed" from the urchin.js file.
        // It parses a string and returns a value.  I used it to get
        // data from the __utmz cookie
        //
        function _uGC(l,n,s) {
         if (!l || l=="" || !n || n=="" || !s || s=="") return "-";
         var i,i2,i3,c="-";
         i=l.indexOf(n);
         i3=n.indexOf("=")+1;
         if (i > -1) {
          i2=l.indexOf(s,i); if (i2 < 0) { i2=l.length; }
          c=l.substring((i+i3),i2);
         }
         return c;
        }

        // 
        // Get the __utmz cookie value. This is the cookies that 
        // stores all campaign information. 
        // 
        var z = _uGC(document.cookie, '__utmz=', ';'); 
        // 
        // The cookie has a number of name-value pairs. 
        // Each identifies an aspect of the campaign. 
        // 
        // utmcsr  = campaign source 
        // utmcmd  = campaign medium 
        // utmctr  = campaign term (keyword) 
        // utmcct  = campaign content  
        // utmccn  = campaign name 
        // utmgclid = unique identifier used when AdWords auto tagging is enabled 
        // 
        // This is very basic code. It separates the campaign-tracking cookie 
        // and populates a variable with each piece of campaign info. 
        // 
        var source  = _uGC(z, 'utmcsr=', '|'); 
        var medium  = _uGC(z, 'utmcmd=', '|'); 
        var term    = _uGC(z, 'utmctr=', '|'); 
        var content = _uGC(z, 'utmcct=', '|'); 
        var campaign = _uGC(z, 'utmccn=', '|'); 
        var gclid   = _uGC(z, 'utmgclid=', '|'); 
        // 
        // The gclid is ONLY present when auto tagging has been enabled. 
        // All other variables, except the term variable, will be '(not set)'. 
        // Because the gclid is only present for Google AdWords we can 
        // populate some other variables that would normally 
        // be left blank. 
        // 
        if (gclid !="-") { 
              source = 'google'; 
              medium = 'cpc'; 
        } 
        // Data from the custom segmentation cookie can also be passed 
        // back to your server via a hidden form field 
        var csegment = _uGC(document.cookie, '__utmv=', ';'); 
        if (csegment != '-') { 
              var csegmentex = /[1-9]*?\.(.*)/;
              csegment    = csegment.match(csegmentex); 
              csegment    = csegment[1]; 
        } else { 
              csegment = '(not set)'; 
        } 

        //
        // One more bonus piece of information.  
        // We're going to extract the number of visits that the visitor
        // has generated.  It's also stored in a cookie, the __utma cookis
        // 
        var a = _uGC(document.cookie, '__utma=', ';');
        var aParts = a.split(".");
        var nVisits = aParts[5];

        function populateHiddenFields(f) { 
              f.source.value  = source; 
              f.medium.value  = medium; 
              f.term.value    = term; 
              f.content.value = content; 
              f.campaign.value = campaign; 
              f.segment.value = csegment; 
              f.numVisits.value = nVisits;

              alert('source='+f.source.value); 
              alert('medium='+f.medium.value); 
              alert('term='+f.term.value); 
              alert('content='+f.content.value); 
              alert('campaign='+f.campaign.value); 
              alert('custom segment='+f.segment.value); 
              alert('number of visits='+f.numVisits.value);

              return false; 
        } 
    </script> 
</head>
<body id="page-top">

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <a class="navbar-brand" href="#/home">Invoice me</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div id="bs-example-navbar-collapse-1">
                <ul ng-hide="isLoggedUser()" class="nav navbar-nav navbar-right">
                    <li class="hidden">
                        <a href="#page-top"></a>
                    </li>
                    <li class="page-scroll">
                        <a href="#/invoice/list">Try It</a>
                    </li>
                    <li class="page-scroll">
                        <a href="#/signup">Sign Up</a>
                    </li>
                    <li class="page-scroll">
                        <a href="#/login">Login</a>
                    </li>
                </ul>
                <ul ng-show="isLoggedUser()" class="nav navbar-nav navbar-right">
                    <li class="hidden">
                        <a href="#page-top"></a>
                    </li>
                    <li class="page-scroll">
                        <a href="#/invoice/list">My invoices</a>
                    </li>
                     <li class="page-scroll">
                        <a href="#/profile/view">My Profile</a>
                    </li>
                    <li ng-controller="RegisterCtrl" class="page-scroll">
                        <a ng-click="Logout($event)" href="#/home">Logout</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
    </nav>
    <h3>There is a hidden form on this page that contains values From the GA tracking
cookies.  Click the button to show the extracted values.</h3>

<form method="POST" name='contactform' onSubmit="populateHiddenFields(this);"> 
<input type='hidden' name='source' /> 
<input type='hidden' name='medium' /> 
<input type='hidden' name='term' /> 
<input type='hidden' name='content' /> 
<input type='hidden' name='campaign' /> 
<input type='hidden' name='segment' />
<input type='hidden' name='numVisits' />
<input type='submit' value='Show GA Info' /> 
</form>
    <div ng-view></div>

    <!-- Footer -->
    <section ng-show="showFooter()" id="about">
        <footer class="text-center" >
          <div class="footer-above">
              <div class="container">
                  <div class="row">
                      <div class="footer-col col-md-4">                        
                          <h3>How we did it?</h3>
                          <p>This app is based on <a href="https://angularjs.org/">AngularJS</a> and <a href="http://www.firebase.com/">Firebase</a> frameworks</p>
                      </div>
                      <div class="footer-col col-md-4">
                          <h3>Around the Web</h3>
                          <ul class="list-inline">
                              <li>
                                  <a href="#" class="btn-social btn-outline"><i class="fa fa-fw fa-facebook"></i></a>
                              </li>
                              <li>
                                  <a href="#" class="btn-social btn-outline"><i class="fa fa-fw fa-google-plus"></i></a>
                              </li>
                              <li>
                                  <a href="#" class="btn-social btn-outline"><i class="fa fa-fw fa-twitter"></i></a>
                              </li>
                              <li>
                                  <a href="#" class="btn-social btn-outline"><i class="fa fa-fw fa-youtube"></i></a>
                              </li>
                              <li>
                                  <a href="#" class="btn-social btn-outline"><i class="fa fa-fw fa-dribbble"></i></a>
                              </li>
                          </ul>
                      </div>
                      <div class="footer-col col-md-4">
                          <h3>About Invoice Me</h3>
                          <p>Invoice Me is a free to use, open source invoice register tool theme created by <a href="http://www.codigodelsur.com">CodigoDelSur</a>.</p>
                      </div>
                  </div>
              </div>
          </div>
          <div class="footer-below">
              <div class="container">
                  <div class="row">
                      <div class="col-lg-12">
                          Copyright &copy; Invoice Me 2015
                      </div>
                  </div>
              </div>
          </div>
        </footer>
    </section>

    <!-- In production use:
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/x.x.x/angular.min.js"></script>
    -->
    <script src="http://code.jquery.com/jquery-1.7.1.js"></script>
    <script src="bower_components/angular/angular.js"></script>
    <script src="bower_components/angular-cookies/angular-cookies.js"></script>
    <script src="bower_components/angular-route/angular-route.js"></script>
    <script src="app.js"></script>
    <script src="components/version/version.js"></script>
    <script src="components/version/version-directive.js"></script>
    <script src="components/version/interpolate-filter.js"></script>

    <script src="https://cdn.firebase.com/js/client/2.1.2/firebase.js"></script>

    <script src="register/register.js"></script>
    <script src="home/home.js"></script>
    <script src="invoice/invoice.js"></script>
    <script src="profile/profile.js"></script>
</body>
</html>
